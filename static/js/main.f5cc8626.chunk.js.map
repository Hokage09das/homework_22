{"version":3,"sources":["store/actionCreator/actionCreators.js","components/UsersRender.jsx","App.jsx","store/rootReducer/rootReducer.js","store/rootReducer/store.js","index.js"],"names":["getData","data","type","UsersRender","dispatch","useDispatch","users","useSelector","state","login","getDataFromServer","fetch","response","json","result","iteration","filter","el","id","localStorage","setItem","JSON","stringify","useEffect","deleteDataHandler","payload","deleteData","removeItem","onClick","axios","post","Error","message","postDataToServer","title","then","toast","success","catch","err","error","map","name","App","loginInitialState","isSucces","rootReducer","combineReducers","action","newData","item","i","taskId","console","log","store","createStore","applyMiddleware","thunk","ReactDOM","render","document","getElementById"],"mappings":"2NAEaA,EAAU,SAACC,GACtB,MAAO,CACLC,KAAM,MACND,KAAMA,EAEV,E,OC0DeE,EAxDK,WAClB,IAAMC,EAAWC,cAETC,EAAUC,aAAY,SAACC,GAAK,OAAKA,EAAMC,KAAK,IAA5CH,MAEFI,EAAiB,iDAAG,gHACHN,EDLvB,iDAAO,WAAOA,GAAQ,mGACGO,MAAM,8CAA8C,KAAD,EAA5D,OAARC,EAAQ,gBACKA,EAASC,OAAO,KAAD,EACV,OADlBZ,EAAI,OACVG,EAASJ,EAAQC,IAAO,kBACjBA,GAAI,2CACZ,mDALD,ICKoD,KAAD,EAA3Ca,EAAM,OAENC,EAAYD,EAAOE,QAAO,SAACC,GAC/B,OAAOA,EAAGC,GAAK,IAAM,CACvB,IAEAC,aAAaC,QAAQ,OAAQC,KAAKC,UAAUP,IAAY,2CACzD,kBARsB,mCAUvBQ,qBAAU,WACRC,GACF,GAAG,IAEH,IAAMA,EAAoB,SAACN,GACzBd,EDGsB,SAACc,GACzB,MAAO,CACLhB,KAAM,SACNuB,QAASP,EAEb,CCRaQ,CAAWR,IACpBC,aAAaQ,WAAW,OAC1B,EAgBA,OACE,gCACE,wBAAQC,QAASlB,EAAkB,sBACnC,wBAAQkB,QAjBS,WAKnBxB,EDpB4B,SAACH,GAC/B,wDAAO,WAAOG,GAAQ,0GAEKyB,IAAMC,KAC3B,6CACA7B,GACA,KAAD,EAHa,OAARW,EAAQ,yBAIPA,EAASX,MAAI,sCAEd,IAAI8B,MAAM,KAAMC,SAAS,KAAD,oDAEjC,mDAVD,EAWF,CCQaC,CAJI,CACXC,MAAO5B,KAIN6B,MAAK,WACJC,IAAMC,QAAQ,UAChB,IACCC,OAAM,SAACC,GACNH,IAAMI,MAAMD,EAAIP,QAClB,GACJ,EAKkC,uBAC9B,wBAAQJ,QAAS,kBAAMJ,EAAkBlB,EAAMY,GAAG,EAAC,yBACnD,4OACCZ,EAAMmC,KAAI,SAACxC,GACV,OACE,gCACE,6BAAKA,EAAKiB,KACV,6BAAKjB,EAAKyC,SAFFzC,EAAKiB,GAKnB,MAGN,ECrDeyB,MARf,WACE,OACE,8BACE,cAAC,EAAW,KAGlB,E,uBCNMC,EAAoB,CACxBtC,MAAO,GACPuC,UAAU,EACVL,MAAO,MAuCIM,EAAcC,YAAgB,CACzCtC,MArCmB,WAAwC,IAAvCD,EAAK,uDAAGoC,EAAmBI,EAAM,uCACrD,GAAoB,QAAhBA,EAAO9C,KAAgB,CACzB,IAAM+C,EAAUD,EAAO/C,KAAKe,QAAO,SAACkC,EAAMC,GAAC,OAAKA,EAAI,CAAC,IACrD,OAAO,2BACF3C,GAAK,IACRF,MAAO2C,GAEX,CAEA,GAAoB,WAAhBD,EAAO9C,KAAmB,CAC5B,IAAMkD,EAASJ,EAAOvB,QAChBC,EAAalB,EAAMF,MAAMU,QAAO,SAACf,GAAI,OAAKA,EAAKiB,KAAOkC,CAAM,IAElE,OADAC,QAAQC,IAAI5B,GACL,2BACFlB,GAAK,IACRF,MAAOoB,GAEX,CAEA,MAAoB,WAAhBsB,EAAO9C,KACF,2BACFM,GAAK,IACRqC,UAAU,IAIM,UAAhBG,EAAO9C,KACF,2BACFM,GAAK,IACRgC,MAAOQ,EAAOvB,UAIXjB,CACT,ICrCe+C,EADDC,YAAYV,EAAaW,YAAgBC,M,MCMvDC,IAASC,OACP,eAAC,IAAQ,CAACL,MAAOA,EAAM,UACrB,cAAC,IAAc,IACf,cAAC,EAAG,OAENM,SAASC,eAAe,Q","file":"static/js/main.f5cc8626.chunk.js","sourcesContent":["import axios from \"axios\";\n\nexport const getData = (data) => {\n  return {\n    type: \"GET\",\n    data: data,\n  };\n};\n\nexport const asyncSendRequest = () => {\n  return async (dispatch) => {\n    const response = await fetch(\"https://jsonplaceholder.typicode.com/users\");\n    const data = await response.json();\n    dispatch(getData(data));\n    return data;\n  };\n};\n\nexport const postDataToServer = (data) => {\n  return async (dispatch) => {\n    try {\n      const response = await axios.post(\n        \"https://jsonplaceholder.typicode.com/users\",\n        data\n      );\n      return response.data;\n    } catch (error) {\n      throw new Error(error.message);\n    }\n  };\n};\n\nexport const deleteData = (id) => {\n  return {\n    type: \"DELETE\",\n    payload: id,\n  };\n};\n","import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { toast } from \"react-toastify\";\nimport {\n  asyncSendRequest,\n  deleteData,\n  postDataToServer,\n} from \"../store/actionCreator/actionCreators\";\n\nconst UsersRender = () => {\n  const dispatch = useDispatch();\n\n  const { users } = useSelector((state) => state.login);\n\n  const getDataFromServer = async () => {\n    const result = await dispatch(asyncSendRequest());\n\n    const iteration = result.filter((el) => {\n      return el.id % 2 == -0;\n    });\n\n    localStorage.setItem(\"data\", JSON.stringify(iteration));\n  };\n\n  useEffect(() => {\n    deleteDataHandler();\n  }, []);\n\n  const deleteDataHandler = (id) => {\n    dispatch(deleteData(id));\n    localStorage.removeItem(\"data\");\n  };\n\n  const postToServer = () => {\n    const data = {\n      title: users,\n    };\n\n    dispatch(postDataToServer(data))\n      .then(() => {\n        toast.success(\"Succes!\");\n      })\n      .catch((err) => {\n        toast.error(err.message);\n      });\n  };\n\n  return (\n    <div>\n      <button onClick={getDataFromServer}>Get Data</button>\n      <button onClick={postToServer}>Post Data</button>\n      <button onClick={() => deleteDataHandler(users.id)}>Delete Data</button>\n      <h1>Для удаления с UI ,надо обновить страницу!</h1>\n      {users.map((data) => {\n        return (\n          <div key={data.id}>\n            <li>{data.id}</li>\n            <li>{data.name}</li>\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n\nexport default UsersRender;\n","import UsersRender from \"./components/UsersRender\";\n\nfunction App() {\n  return (\n    <div>\n      <UsersRender />\n    </div>\n  );\n}\n\nexport default App;\n","import { combineReducers } from \"redux\";\n\nconst loginInitialState = {\n  users: [],\n  isSucces: false,\n  error: null,\n};\n\nconst loginReducer = (state = loginInitialState, action) => {\n  if (action.type === \"GET\") {\n    const newData = action.data.filter((item, i) => i % 2);\n    return {\n      ...state,\n      users: newData,\n    };\n  }\n\n  if (action.type === \"DELETE\") {\n    const taskId = action.payload;\n    const deleteData = state.users.filter((data) => data.id !== taskId);\n    console.log(deleteData);\n    return {\n      ...state,\n      users: deleteData,\n    };\n  }\n\n  if (action.type === \"SUCCES\") {\n    return {\n      ...state,\n      isSucces: true,\n    };\n  }\n\n  if (action.type === \"ERROR\") {\n    return {\n      ...state,\n      error: action.payload,\n    };\n  }\n\n  return state;\n};\n\nexport const rootReducer = combineReducers({\n  login: loginReducer,\n});\n","import { applyMiddleware, createStore } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport { rootReducer } from \"./rootReducer\";\n\nconst store = createStore(rootReducer, applyMiddleware(thunk));\nexport default store;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport \"./index.css\";\nimport { ToastContainer } from \"react-toastify\";\nimport App from \"./App\";\nimport { Provider } from \"react-redux\";\nimport store from \"./store/rootReducer/store\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <ToastContainer />\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}